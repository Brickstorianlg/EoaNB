add_namespace = eastern_crisis

#Memorandum of the Association for Serbian Liberation and Unification (12.09.1871)
country_event = {
	id = eastern_crisis.1
	title = eastern_crisis.1.t
	desc = eastern_crisis.1.d
	picture = GFX_report_event_report_event_association_for_serbian_liberation_and_unification
	
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.1.a
		hidden_effect = {
			MNT = { country_event = { id = eastern_crisis.1 } }
			OTO = { country_event = { id = eastern_crisis.2 days = 1 } }
		}
	}
}

#OTO - Association for Serbian Liberation and Unification's Memorandum (13.09.1871)
country_event = {
	id = eastern_crisis.2
	title = eastern_crisis.2.t
	desc = eastern_crisis.2.d
	picture = GFX_report_event_report_event_association_for_serbian_liberation_and_unification
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.2.a
		add_stability = -0.03
		custom_effect_tooltip = OTO_nationalist_resistance_eastern_crisis_effect_tt
		hidden_effect = {
			every_owned_state = {
				limit = { 
					OR = {
						is_core_of = BOS
						is_core_of = MNT
						is_core_of = SER
					}
				}
				force_enable_resistance = OTO
				start_resistance = OTO
				set_resistance = 15
				add_resistance_target = -5
				add_compliance = 5
				set_garrison_strength = 0.5
			}
			country_event = { id = eastern_crisis.3 days = 800 random_days = 180 }
		}
	}
}

#OTO - The Need for Reforms in Bosnia (between 1873-1874)
country_event = {
	id = eastern_crisis.3
	title = eastern_crisis.3.t
	desc = eastern_crisis.3.d
	picture = GFX_report_event_bosnian_reforms
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.3.a
		add_political_power = -25
		hidden_effect = {
			#set_country_flag = OTO_need_for_reforms_in_bosnia_flag 	### Add to enable Ottoman ft content later
		}
	}
}

#The Herzegovina Uprising of 1875 (June 1875)
country_event = {
	id = eastern_crisis.4
	title = eastern_crisis.4.t
	desc = eastern_crisis.4.d
	picture = GFX_report_event_herzegovina_uprising
	
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.4.a
		hidden_effect = {
			MNT = { country_event = { id = eastern_crisis.4 } }
			OTO = { country_event = { id = eastern_crisis.5 } }
			if = {
				limit = {
					NOT = {
						OR = {
							tag = MNT
							tag = OTO
						}
					}
				}
				news_event = { id = eastern_crisis.6 days = 1 }
			}
			AUS = { country_event = { id = eastern_crisis.10 days = 365 random_days = 30 } }
			HRZ = { country_event = { id = eastern_crisis.11 days = 210 random_days = 14 } }
		}
	}
}

#OTO - The Herzegovina Uprising of 1875 (June 1875)
country_event = {
	id = eastern_crisis.5
	title = eastern_crisis.5.t
	desc = eastern_crisis.5.d
	picture = GFX_report_event_herzegovina_uprising
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.5.a
		1207 = { add_core_of = HRZ }
		release = HRZ
		HRZ = {
			hidden_effect = {
				load_oob = "HRZ_1875"
			}
			diplomatic_relation = {
				country = MNT
				relation = non_aggression_pact
				active = yes
			}
			diplomatic_relation = {
				country = SER
				relation = non_aggression_pact
				active = yes
			}
			add_manpower = 40000
			HRZ_mico_ljubibratic = {
				add_corps_commander_role = {
					traits = { trickster guerilla_fighter }
					skill = 2
						attack_skill = 2
						defense_skill = 2
						planning_skill = 2
						logistics_skill = 1
				}
			}
			HRZ_bogdan_zimonjic = {
				add_corps_commander_role = {
					traits = { trickster guerilla_fighter }
					skill = 1
						attack_skill = 1
						defense_skill = 2
						planning_skill = 1
						logistics_skill = 1
				}
			}
		}
		declare_war_on = {
			target = HRZ
			type = annex_everything
		}
		activate_mission = eastern_crisis_mission_herzegovina_uprising_of_1875
		hidden_effect = {
			HRZ = {
				activate_mission = eastern_crisis_mission_herzegovina_uprising_of_1875
				set_capital = { state = 1207 }
			}
			set_global_flag = eastern_crisis_herzegovina_uprising_flag
		}
	}
}

#The Herzegovina Uprising of 1875 (June 1875)
news_event = {
	id = eastern_crisis.6
	title = eastern_crisis.6.t
	desc = eastern_crisis.6.d
	picture = GFX_news_event_herzegovina_uprising
	
	major = yes
	
	is_triggered_only = yes

	fire_for_sender = no
	
	option = {
		name = eastern_crisis.6.a
	}
}

#HRZ - Italian Volunteers Arrive
country_event = {
	id = eastern_crisis.7
	title = eastern_crisis.7.t
	desc = eastern_crisis.7.d
	picture = GFX_event_ITA_Garibaldi_Generic
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.7.a
		custom_effect_tooltip = HRZ_italian_volunteers_effect_tt
		hidden_effect = {
			load_oob = "HRZ_Garibaldists"
		}
	}
}

#HRZ - French Relief Efforts
country_event = {
	id = eastern_crisis.8
	title = eastern_crisis.8.t
	desc = eastern_crisis.8.d
	picture = GFX_report_event_generic_aid_relief
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.8.a
		add_ideas = HRZ_idea_help_from_abroad
	}
}

#HRZ - Russian Volunteers Arrive
country_event = {
	id = eastern_crisis.9
	title = eastern_crisis.9.t
	desc = eastern_crisis.9.d
	picture = GFX_event_panslavic_flag
	
	fire_only_once = yes
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.9.a
		custom_effect_tooltip = HRZ_russian_volunteers_effect_tt
		hidden_effect = {
			load_oob = "HRZ_Russian_Volunteers"
		}
	}
}

#Refugee Crisis in Croatia (Second half of 1876)
country_event = {
	id = eastern_crisis.10
	title = eastern_crisis.10.t
	desc = eastern_crisis.10.d
	picture = GFX_report_event_refugees_croatia
	
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.10.a
		if = {
			limit = {
				tag = AUS
			}
			add_timed_idea = {
				idea = AUS_idea_croatian_refugee_crisis
				days = 120
			}
			if = {
				limit = {
					owns_state = 103
				}
				103 = {
					add_dynamic_modifier = {
						modifier = mass_immigration
					}
					add_manpower = 5000
				}
			}
			if = {
				limit = {
					owns_state = 109
				}
				109 = {
					add_dynamic_modifier = {
						modifier = mass_immigration
					}
					add_manpower = 10000
				}
			}
			if = {
				limit = {
					owns_state = 1011
				}
				1011 = {
					add_dynamic_modifier = {
						modifier = mass_immigration
					}
					add_manpower = 10000
				}
			}
			if = {
				limit = {
					has_country_flag = AUS_international_units_in_bosnia_flag
				}
				unlock_decision_tooltip = eastern_crisis_decision_bosnia_military_operation
			}
			hidden_effect = {
				MNT = { country_event = { id = eastern_crisis.10 } }
				OTO = { country_event = { id = eastern_crisis.10 } }
				SER = { country_event = { id = eastern_crisis.10 } }
				if = {
					limit = {
						HRZ = { exists = yes }
					}
					HRZ = { country_event = { id = eastern_crisis.10 } }
				}
				set_country_flag = AUS_croatian_refugee_crisis_flag
			}
		}
		else_if = {
			limit = {
				tag = HRZ
			}
			add_political_power = -25
			add_stability = -0.05
			if = {
				limit = {
					owns_state = 104
				}
				104 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1205
				}
				1205 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1207
				}
				1207 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1208
				}
				1208 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1272
				}
				1272 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
		}
		else_if = {
			limit = {
				tag = OTO
			}
			add_political_power = -10
			add_stability = -0.02
			if = {
				limit = {
					owns_state = 104
				}
				104 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1205
				}
				1205 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1207
				}
				1207 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1208
				}
				1208 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
			if = {
				limit = {
					owns_state = 1272
				}
				1272 = {
					add_dynamic_modifier = {
						modifier = mass_emigration
					}
					add_manpower = -5000
				}
			}
		}
	}
}

#The International Units
country_event = {
	id = eastern_crisis.11
	title = eastern_crisis.11.t
	desc = eastern_crisis.11.d
	picture = GFX_report_event_herzegovinian_troops
	
	is_triggered_only = yes
		
	option = {
		name = eastern_crisis.11.a
		trigger = {
			NOT = { tag = OTO }
		}
		if = {
			limit = {
				tag = HRZ
			}
			add_opinion_modifier = { target = MNT modifier = om_war_support }
			reverse_add_opinion_modifier = { target = MNT modifier = om_war_support }
			add_opinion_modifier = { target = SER modifier = om_war_support }
			reverse_add_opinion_modifier = { target = SER modifier = om_war_support }
			hidden_effect = {
				AUS = { country_event = { id = eastern_crisis.11 } }
				every_other_country = {
					limit = {
						has_country_flag = is_literally_italy
					}
					country_event = { id = eastern_crisis.11 }
				}
				FRA = { country_event = { id = eastern_crisis.11 } }
				MNT = { country_event = { id = eastern_crisis.11 } }
				OTO = { country_event = { id = eastern_crisis.11 } }
				RUS = { country_event = { id = eastern_crisis.11 } }
				SER = { country_event = { id = eastern_crisis.11 } }
			}
		}
		else_if = {
			limit = {
				tag = AUS
			}
			if = {
				limit = {
					has_country_flag = AUS_croatian_refugee_crisis_flag
				}
				unlock_decision_tooltip = eastern_crisis_decision_bosnia_military_operation
			}
			hidden_effect = {
				set_country_flag = AUS_international_units_in_bosnia_flag
			}
		}
	}
	
	option = {
		name = eastern_crisis.11.b
		trigger = {
			tag = OTO
		}
		add_opinion_modifier = { target = FRA modifier = om_war_support_for_enemy }
		reverse_add_opinion_modifier = { target = FRA modifier = om_war_support_for_enemy }
		add_opinion_modifier = { target = MNT modifier = om_war_support_for_enemy }
		reverse_add_opinion_modifier = { target = MNT modifier = om_war_support_for_enemy }
		add_opinion_modifier = { target = RUS modifier = om_war_support_for_enemy }
		reverse_add_opinion_modifier = { target = RUS modifier = om_war_support_for_enemy }
		add_opinion_modifier = { target = SER modifier = om_war_support_for_enemy }
		reverse_add_opinion_modifier = { target = SER modifier = om_war_support_for_enemy }
		every_other_country = {
			limit = {
				has_country_flag = is_literally_italy
			}
			add_opinion_modifier = { target = OTO modifier = om_war_support_for_enemy }
			reverse_add_opinion_modifier = { target = OTO modifier = om_war_support_for_enemy }
		}
	}
}